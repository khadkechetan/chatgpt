from collections import defaultdict

# Assuming you have three dictionaries
dict1 = {1: 5, 2: 3}
dict2 = {1: 2, 3: 4}
dict3 = {2: 7, 3: 1}

# List of dictionaries
dicts = [dict1, dict2, dict3]

# Initialize a defaultdict to store the sum of counts and occurrences
sum_counts = defaultdict(int)
occurrences = defaultdict(int)

# Sum the values and count the occurrences
for d in dicts:
    for key, value in d.items():
        sum_counts[key] += value
        occurrences[key] += 1

# Calculate the average for each key
average_counts = {key: sum_counts[key] / occurrences[key] for key in sum_counts}

print(average_counts)
